<tool id="rnalfold" name="RNALFold" version="2.1.6.0">
    <description>RNALFold calculates locally stable secondary structures of RNA</description>
    <expand macro="requirements" />
    <expand macro="version_command" />
    <macros>
        <import>macros.xml</import>
    </macros>    <command>
        RNALfold -L $span -T $temperature -d$dangling &lt; $sequenceFile &gt; $out_file
        #if $varExists('$advancedOptions.noconversion')
            #if $advancedOptions.noconversion 
                --noconv
            #end if
            #if $advancedOptions.gquad
                --gquad
            #end if
            #if $advancedOptions.nolp
                --noLP
            #end if
            #if $advancedOptions.nogu
                --noGU
            #end if
            #if $advancedOptions.noclosinggu
                --noClosingGU
            #end if
            #if $advancedOptions.notetra
                --noTetra
            #end if
        #end if
    </command>
    <configfiles>
        <configfile name="sequenceFile">$sequence</configfile>
    </configfiles>
    <inputs>
        <param name="sequence" size="400" type="text" value="" label="sequence" help="here you can enter the sequence you want to analyse" />
        <param name="span" type="integer" min="0" max="5000" value="150" label="base pair span" help="-L  maximal distance between two paired bases."/>
        <param name="temperature" size="6" type="float" value="37.0" label="temperature [Â°C]" help="-T"/>
        <param name="dangling" type="select" label="how to treat dangling end energies" help="-d">
            <option value="2">2 default: unpaired bases participate in all dangling ends</option>
            <option value="0">0: ignore dangling ends</option>
            <option value="1">1: unpaired bases participate in one dangling end only</option>
            <option value="3">3: allow coaxial stacking</option>
        </param>
        <conditional name="advancedOptions">
            <param name="advancedSelector" type="select"  label="advanced options">
                <option value="basic">basic Options</option>
                <option value="advanced">advanced Options</option>
            </param>
            <when value="advanced">
                <param name="noconversion" type="boolean" checked="false" label="no conversion" help="--noconv  do not convert thymine to uracile (T -> U)."/>
                <param name="gquad" type="boolean" checked="false" label="G Quadruplex formation" help="-g  take into account G Quadruplex formation"/>
                <param name="nolp" type="boolean" checked="false" label="No lonely pairs" help="--noLP  don't allow lonely pairs."/>
                <param name="nogu" type="boolean" checked="false" label="No GU pairing" help="--noGU  don't allow pairing of G and U."/>
                <param name="noclosinggu" type="boolean" checked="false" label="No GU pairing at the ends" help="--noClosingGU  don't allow pairing of G and U at the ends of helices."/>
                <param name="notetra" type="boolean" checked="false" label="No stabilization for loops, hairpins etc." help="--noTetra"/>
            </when>
        </conditional>
    </inputs>
    <outputs>  
        <data format="txt" name="out_file"/>
    </outputs>
    <tests>
    </tests>
    <help>
**RNALfold**

Compute locally stable RNA secondary structure with a maximal base pair span. 
For a sequence of length n and a base pair span of L the algorithm uses only 
O(n+L*L) memory and O(n*L*L) CPU time. *Thus it is practical to "scan" very 
large genomes for short RNA structures*.
Output consists of a list of secondary structure components of size &lt;= L, one 
entry per line. Each output line contains the predicted local structure its 
energy in kcal/mol and the starting position of the local structure.

-----

**Input format**

RNALfold requires one input sequence:

- Can be provided in the textbox or by a file

------

**Outputs**

- pure text output

@citation@

    </help>
</tool>
