<tool id="docking" name="Docking" version="0.1.0">
    <description> - Tool for running docking with Autodock Vina</description>
    <requirements>
        <requirement type="package" version="1.1.2">autodockvina</requirement>
    </requirements>
    <stdio>
        <exit_code range="1" />
    </stdio>
    <command><![CDATA[
        python $__tool_directory__/docking.py -l "$ligand" 
                                              -r "$receptor" 
                                              -b "$box" 
                                              -p "$file_output1.files_path" 
                                              -f "$file_output1" 
                                              -g "$file_output2"
    ]]></command>
    <inputs>
        <param type="data" name="ligand" format="pdbqt" label="Ligands: " help="No data? See tip below" />
        <param type="data" name="receptor" format="pdbqt" label="Receptor: " help="No data? See tip below" />
        <param type="data" name="box" format="txt" label="Binding site coord.: " help="No data? See tip below" />
    </inputs>
    <outputs>
        <data name="file_output1" format="pdbqt" label="#echo (os.path.splitext (str($ligand.name))[0]) + '_-_' + (os.path.splitext (str($receptor.name))[0])#.pdbqt" />
        <data name="file_output2" format="log" label="#echo (os.path.splitext (str($ligand.name))[0]) + '_-_' + (os.path.splitext (str($receptor.name))[0])#.log" />
    </outputs>
    <tests>
        <test>
            <param name="ligand" value="NuBBE_1_obabel_3D.pdbqt"/>
            <param name="receptor" value="3u1i_for_DM.pdbqt"/>
            <param name="box" value="config_complexo_dm.txt"/>
            <output name="file_output1" file="NuBBE_1_obabel_3D_-_3u1i_for_DM.pdbqt"/>
            <output name="file_output2" file="NuBBE_1_obabel_3D_-_3u1i_for_DM.log"/>
        </test>
    </tests>
    <help><![CDATA[
        *** Tool for perform docking with Autodock Vina ***

        For use this tool will be necessary perform the upload of a datasets, pdbqt and text file's, and select it in yours fields.
    ]]></help>
    <citations>
        <citation type="doi">10.1002/jcc.21334</citation>
    </citations>
</tool>