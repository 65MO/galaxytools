<tool id="bgchem_fragment_merger" name="Merging" >
  <description>fragmented molecules</description>
  <command interpreter='python'>
    merger.py 
        -i $infile 
        -o $outfile 
        --molwt-cutoff $molwt_cutoff 
        #if $iter_opts.iter_opts_selector=="user":
            --mdid-off # if set, its deactivated
            --max-iteration-depth $iter_opts.max_depth
        #end if
        2>&#38;1
  </command>
  <inputs>
    <param name="infile" type="data" format="sdf,smi,mol,inchi,cml" label="Input file" help="Dataset missing? See TIP below"/>
    <param name="molwt_cutoff" type="integer" value="500" label="The number of positions between windows to report."/>
    <conditional name="iter_opts">
        <param name="iter_opts_selector" type="select" label="Iteration depth">
            <option value="mdid" selected="True">Molecule dependent iteration depth</option>
            <option value="user">User dependent iteration depth</option>
        </param>
        <when value="mdid" />
        <when value="user">
            <param name="max_depth" type="integer" value="2" label="Max iteration depth." help="">
                <validator type="in_range" min="0" />
            </param>
        </when>
    </conditional>
  </inputs>
  <outputs>
   <data format="smi" name="outfile">
     <change_format>
       <when input="oformat" value="inchi" format="inchi"/>
       <when input="oformat" value="sdf" format="sdf"/>
       <when input="oformat" value="mol2" format="mol2"/>
     </change_format>
   </data>
  </outputs>
  <tests>
    <test>
    </test>
 </tests>
<help>


**What it does**
Merging small molecules together to larger compounds using some predifined reactions.

-----

**Input**

A molecule file with marked molecules. You can create such a file with the Fragmenter tool and the option 'mark atoms'.

**Output**

A molecule file with new created/merged molecules.


 </help>

</tool>
