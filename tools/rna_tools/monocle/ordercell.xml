<tool id="celldataset_ordercells" name="Order Cells" version="1.2.0">
    <description>
        Order cells by their expression profile
    </description>
    <stdio>
        <exit_code range="1:" level="fatal" description="Error occurred. Please check Tool Standard Error" />
        <exit_code range=":-1" level="fatal" description="Error occurred. Please check Tool Standard Error" />
    </stdio>
    <command>
<![CDATA[
    Rscript $__tool_directory__/orderCells.R
        $cell_data_set
        "$genes"
        $formula_string
        $qvalue
        $components
        $num_paths
        $reverse_path
        $out_file1 
]]>
    </command>
    <inputs>
        <param name="cell_data_set" type="data" format="data" label="Cell Dataset" />
        <param name="genes" type="text" default="" label="Genes" />
        <param name="formula_string" type="text" default="expression~Media" label="Model Formula String" >
            <sanitizer>
                <valid>
                    <add value="~"/> 
                </valid>
            </sanitizer>
        </param>
        <param name="qvalue" type="float" value="0.1" min="0.0" max="1.0" label="Q value" />
        <param name="components" type="integer" value="2" min="1" label="Number of dimensions to project onto" />
        <param name="num_paths" type="integer" value="2" min="1" label="Number of fates/paths of cells" />
        <param name="reverse_path" type="boolean" checked="false" truevalue="T" falsevalue="F" label="Reverse direction of path"  />
    </inputs>
    <outputs>
        <data name="out_file1" format="data" />          
    </outputs>
    <help>
*What it does*
    ODimension reduction via Independent Component Analysis
    </help>
    <citations>
        <citation type="doi">10.1038/nbt.2859</citation>
    </citations>
</tool>
