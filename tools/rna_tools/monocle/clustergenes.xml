<tool id="celldataset_clustergenes" name="Cluster Genes" version="1.2.0">
    <description>
        by expression pattern
    </description>
    <stdio>
        <exit_code range="1:" level="fatal" description="Error occurred. Please check Tool Standard Error" />
        <exit_code range=":-1" level="fatal" description="Error occurred. Please check Tool Standard Error" />
    </stdio>
    <command interpreter="">
<![CDATA[
    Rscript $__tool_directory__/clusterGenesByExpressionPattern.R
        $cell_data_set
        "$fullformulastring"
        $samples
        $clusters
        $out_file1 
]]>
    </command>
    <inputs>
        <param name="cell_data_set" type="data" format="data" label="Cell Dataset" />
        <param name="fullformulastring" type="text" default="expression~Media" label="Full Model Formula String" >
            <sanitizer>
                <valid>
                    <add value="~"/> 
                </valid>
            </sanitizer>
        </param>
        <param name="samples" type="integer" value="100" min="1" />
        <param name="clusters" type="integer" value="4" min="1" />
    </inputs>
    <outputs>
        <data name="out_file1" format="pdf" />          
    </outputs>
    <help>
    </help>
    <citations>
        <citation type="doi">10.1038/nbt.2859</citation>
    </citations>
</tool>
