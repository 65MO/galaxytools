<tool id="sailfish" name="Sailfish" version="0.6.3.0">
    <description>transcript quantification from RNA-seq data</description>
    <version_command>sailfish -version</version_command>
    <requirements>
        <requirement type="package" version="0.6.3">sailfish</requirement>
    </requirements>
    <stdio>
        <exit_code range="1:" />
        <exit_code range=":-1" />
        <regex match="Error:" />
        <regex match="Exception:" />
    </stdio>
    <command>
<![CDATA[
        sailfish quant -i $index_dir 
            #if $single_or_paired-single_or_paired_opts == 'single':
                -l "TYPE=SE"
                -r $single_or_paired_opts.input_singles
            #else:
                -1 $single_or_paired_opts.input_mate1
                -2 $single_or_paired_opts.input_mate2
                #if $single_or_paired_opts.orientation == "same":
                    -l "TYPE=PE:O=>>"
                #elif $single_or_paired_opts.orientation == "away":
                    -l "TYPE=PE:O=<>"
                #else:
                    -l "TYPE=PE:O=><"
                #end if
            #end if
-o <quant_dir>

]]>
    </command>
    <inputs>
        <conditional name="single_or_paired">
            <param name="single_or_paired_opts" type="select" label="Is this library mate-paired?">
              <option value="single">Single-end</option>
              <option value="paired">Paired-end</option>
            </param>
            <when value="single">
                <param name="input_singles" type="data" format="fastqsanger,fastqillumina,fastq,fasta" label="FASTQ/FASTA file" help="FASTQ file." />
            </when>
            <when value="paired">
                <param name="input_mate1" type="data" format="fastqsanger,fastqillumina,fastq,fasta" label="Mate pair 1" help="FASTQ file." />
                <param name="input_mate2" type="data" format="fastqsanger,fastqillumina,fastq,fasta" label="Mate pair 2" help="FASTQ file." />
                <param name="orientation" type="select" label="Relative orientation of reads within a pair">
                    <option value="same">Mates are oriented in the same direction</option>
                    <option value="away">Mates are oriented away from each other</option>
                    <option value="toward" selected="True">Mates are oriented toward each other</option>
                </param>
            </when>
        </conditional>


    </inputs>
    <outputs>
        <data name="output1" format="tabular" label="${blast_type.value} $query.name vs @ON_DB_SUBJECT@">
        </data>
    </outputs>
    <tests>
    </tests>
    <help>
<![CDATA[
**What it does**


The first option >> denotes that the mates are oriented in the same direction --- e.g. if the 5' end of mate 1 is 
upstream from the 3' end, then the 5' end of mate 2 is upstream from its 3' end and vice-versa.

The second option &lt;&gt; denotes that the mates are oriented away from each other. This implies that start 
of mate1 is closer to start of mate 2 than the end of mate 2, etc.

The third option &gt;&lt; is, perhaps, the most common relative orientation. It denotes that the mates are 
oriented toward each other, so that the start of mate 1 is farther from the start of mate 2 than it is from the end of mate 2 and vice-versa.

-------

**References**

If you use this Galaxy tool in work leading to a scientific publication please
cite the following:


]]>
    </help>
</tool>
